{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\OneDrive\\\\M\\xE1y t\\xEDnh\\\\React JS\\\\POS\\\\src\\\\comps\\\\DishItem.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from 'react';\nimport { usePayment } from '../contexts/PaymentContext';\nimport { useUser } from '../contexts/UserContext';\nimport { AiFillMinusSquare, AiFillPlusSquare, AiOutlineShoppingCart } from 'react-icons/ai';\nimport cupcake from '../pictures/cupcake.jpg';\nimport { useMenu } from '../contexts/MenuContext';\nimport DishModel from './DishModel';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction DishItem({\n  id,\n  name,\n  price,\n  picture\n}) {\n  _s();\n\n  const {\n    boughtList,\n    setBoughtList\n  } = useUser();\n  const {\n    setCost,\n    setTax,\n    setTotalAmount\n  } = usePayment();\n  const {\n    selectedMenuId,\n    selectedDishes,\n    selectedDish,\n    setSelectedMenuId,\n    setSelectedDishes,\n    setSelectedDish\n  } = useMenu();\n  const [isHovering, setIsHovering] = useState(false);\n  const [openModal, setOpenModal] = useState(false);\n\n  const handleClickBuyItem = () => {\n    const findAlreadyExistBoughtItem = boughtList.find(boughtItem => {\n      return boughtItem.id == id && boughtItem.fromMenuId == selectedMenuId;\n    });\n\n    if (findAlreadyExistBoughtItem == undefined) {\n      const clickedItem = selectedDishes.find(item => {\n        return item.id == id;\n      });\n      setBoughtList([...boughtList, { ...clickedItem,\n        quantity: 1,\n        fromMenuId: selectedMenuId\n      }]);\n    } else {\n      setBoughtList(boughtList.map(boughtItem => boughtItem.id == id && boughtItem.fromMenuId == selectedMenuId ? { ...boughtItem,\n        quantity: boughtItem.quantity + 1\n      } : boughtItem));\n    }\n\n    console.log(\"The current bought list contains:\", boughtList);\n    setCost(prevAmount => parseFloat(prevAmount) + parseFloat(price));\n    setTax(prevAmount => prevAmount + 0.1 * parseFloat(price));\n    setTotalAmount(prevAmount => prevAmount + 1.1 * parseFloat(price));\n    setIsHovering(true);\n  };\n\n  const handleClickedDishItemImage = () => {\n    setSelectedDish(selectedDishes.find(dish => {\n      return dish.id == id;\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"DishItem-container\",\n    onMouseEnter: () => setIsHovering(true),\n    onMouseLeave: () => setIsHovering(false),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        borderTopLeftRadius: 20,\n        borderTopRightRadius: 20,\n        height: '60%',\n        width: '100%',\n        display: 'flex',\n        justifyContent: 'center',\n        backgroundColor: isHovering ? '#2C3A65' : 'white',\n        alignItems: 'center'\n      },\n      onClick: handleClickedDishItemImage,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: picture,\n        alt: cupcake,\n        style: {\n          width: 150,\n          height: 150,\n          borderRadius: 30\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        borderBottomStyle: 'ridge',\n        display: 'flex',\n        height: '20%',\n        width: '80%',\n        alignItems: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"text\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        children: [\" \", name, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        alignItems: 'center',\n        backgroundColor: 'white',\n        height: '20%',\n        width: '80%',\n        flexDirection: 'row',\n        display: 'flex'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '80%'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"text\", {\n          style: {\n            fontSize: 24,\n            color: 'red',\n            fontWeight: 'bold'\n          },\n          children: [\" \", '$' + price, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '20%',\n          backgroundColor: 'white',\n          display: 'flex',\n          justifyContent: 'end',\n          alignContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            borderRadius: 10,\n            display: 'flex',\n            backgroundColor: 'red',\n            height: 35,\n            width: 35,\n            justifyContent: 'center',\n            alignItems: 'center'\n          },\n          onClick: handleClickBuyItem,\n          children: /*#__PURE__*/_jsxDEV(AiOutlineShoppingCart, {\n            color: \"white\",\n            size: 28,\n            style: {\n              float: 'right'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), openModal ? /*#__PURE__*/_jsxDEV(DishModel, {\n      selectedImg: picture,\n      name: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 27\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \" \"\n    }, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n\n_s(DishItem, \"pj4lZ5TbFOUmtkg4uXrketRg6+E=\", false, function () {\n  return [useUser, usePayment, useMenu];\n});\n\n_c = DishItem;\nexport default DishItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"DishItem\");","map":{"version":3,"sources":["C:/Users/Admin/OneDrive/Máy tính/React JS/POS/src/comps/DishItem.js"],"names":["React","useState","usePayment","useUser","AiFillMinusSquare","AiFillPlusSquare","AiOutlineShoppingCart","cupcake","useMenu","DishModel","DishItem","id","name","price","picture","boughtList","setBoughtList","setCost","setTax","setTotalAmount","selectedMenuId","selectedDishes","selectedDish","setSelectedMenuId","setSelectedDishes","setSelectedDish","isHovering","setIsHovering","openModal","setOpenModal","handleClickBuyItem","findAlreadyExistBoughtItem","find","boughtItem","fromMenuId","undefined","clickedItem","item","quantity","map","console","log","prevAmount","parseFloat","handleClickedDishItemImage","dish","borderTopLeftRadius","borderTopRightRadius","height","width","display","justifyContent","backgroundColor","alignItems","borderRadius","borderBottomStyle","fontWeight","flexDirection","fontSize","color","alignContent","float"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { useState } from 'react';\r\nimport { usePayment } from '../contexts/PaymentContext';\r\nimport { useUser } from '../contexts/UserContext';\r\nimport {AiFillMinusSquare, AiFillPlusSquare, AiOutlineShoppingCart} from 'react-icons/ai';\r\nimport cupcake from '../pictures/cupcake.jpg'\r\nimport { useMenu } from '../contexts/MenuContext';\r\nimport DishModel from './DishModel';\r\n\r\n\r\nfunction DishItem({id, name, price, picture}){\r\n    const { boughtList, setBoughtList } = useUser()\r\n    const { setCost, setTax, setTotalAmount } = usePayment()\r\n    \r\n    const {\r\n        selectedMenuId,\r\n        selectedDishes,\r\n        selectedDish,\r\n\r\n        setSelectedMenuId,\r\n        setSelectedDishes,\r\n        setSelectedDish\r\n    } = useMenu()\r\n\r\n    const [isHovering, setIsHovering] = useState(false);\r\n    const [openModal, setOpenModal] = useState(false);\r\n\r\n    const handleClickBuyItem = () => {\r\n        const findAlreadyExistBoughtItem = boughtList.find( boughtItem => {return (boughtItem.id == id && boughtItem.fromMenuId == selectedMenuId)});\r\n\r\n        if (findAlreadyExistBoughtItem == undefined) {\r\n            const clickedItem = selectedDishes.find( (item) => {return item.id == id;})\r\n            setBoughtList([...boughtList, {...clickedItem, quantity: 1, fromMenuId: selectedMenuId}])\r\n        } else {\r\n            setBoughtList(\r\n                boughtList.map(\r\n                    boughtItem => (boughtItem.id == id && boughtItem.fromMenuId == selectedMenuId) ? {...boughtItem, quantity: boughtItem.quantity + 1} : boughtItem\r\n                )\r\n            )\r\n        }\r\n\r\n        console.log(\"The current bought list contains:\", boughtList);\r\n        setCost((prevAmount) => (parseFloat(prevAmount) + parseFloat(price)));\r\n        setTax( (prevAmount) => (prevAmount + (0.1) * parseFloat(price)));\r\n        setTotalAmount( (prevAmount) => (prevAmount + 1.1 * parseFloat(price)));\r\n\r\n        setIsHovering(true);\r\n    }\r\n\r\n    const handleClickedDishItemImage = () => {\r\n        setSelectedDish( selectedDishes.find( dish => {return dish.id == id}));\r\n    }\r\n    \r\n    return (\r\n        <div className='DishItem-container'\r\n            onMouseEnter={() => setIsHovering(true)}\r\n            onMouseLeave={() => setIsHovering(false)}\r\n        >\r\n            <div style={{borderTopLeftRadius:20, borderTopRightRadius: 20, height: '60%', width: '100%', display:'flex', justifyContent:'center', backgroundColor: isHovering ? '#2C3A65' : 'white', alignItems:'center'}}\r\n                onClick={handleClickedDishItemImage}\r\n            >\r\n                <img src={picture} alt={cupcake} style={{width: 150, height: 150, borderRadius: 30}}/>\r\n\r\n            </div>\r\n\r\n            <div style={{backgroundColor: 'white', borderBottomStyle: 'ridge', display:'flex', height: '20%', width: '80%', alignItems: 'center'}}>\r\n                <text style={{fontWeight: 'bold'}}> {name} </text>\r\n            </div>\r\n\r\n            <div style={{alignItems:'center', backgroundColor: 'white', height: '20%', width: '80%', flexDirection: 'row', display: 'flex'}}>\r\n                <div style={{width: '80%'}}>\r\n                    <text\r\n                        style={{fontSize: 24, color: 'red', fontWeight: 'bold'}}\r\n                    > {'$' + price} </text>\r\n                </div>\r\n\r\n                <div style={{width: '20%', backgroundColor: 'white', display: 'flex', justifyContent:'end', alignContent: 'center'}}>\r\n                    <div style={{borderRadius:10, display:'flex', backgroundColor: 'red', height: 35, width: 35, justifyContent:'center', alignItems:'center'}}\r\n                            onClick={handleClickBuyItem}\r\n                    >\r\n                        <AiOutlineShoppingCart\r\n                            \r\n                            color='white'\r\n                            size={28} \r\n                            style={{float: 'right'}}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            { openModal ? <DishModel\r\n                selectedImg={picture}\r\n                name={name}\r\n            /> : <> </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DishItem\r\n"]},"metadata":{},"sourceType":"module"}