{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\OneDrive\\\\M\\xE1y t\\xEDnh\\\\React JS\\\\POS\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Carousel from 'react-elastic-carousel'; // import styles from './App.css'\n\nimport Item from './comps/Item';\nimport { isValidTimestamp } from '@firebase/util';\nimport MenuSection from './screens/MenuSection';\nimport { db } from './firebase/config';\nimport { useEffect, useState } from 'react';\nimport { collection, getDoc, getDocs, doc, onSnapshot } from '@firebase/firestore';\nimport { data } from './comps/Data';\nimport bg from './pictures/POS-background.png';\nimport { motion } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [refresh, setRefresh] = useState(0); // const [menus, setMenus] = useState([]);\n  // const menusRef = collection(db, 'menus');\n  // useEffect(\n  //   () => {\n  //     const getMenus = async () => {\n  //       const data = await getDocs(menusRef);\n  //         data.docs.forEach(\n  //           menu => {\n  //             const getDishes = async () => {\n  //               var dishesRef = collection(db, 'menus' + '/' + menu.id + '/' + 'dishes');\n  //               const dishes = await getDocs(dishesRef);\n  //               console.log('Adding at menu id', menu.id);\n  //               const dishesList = dishes.docs.map( dish => ({...dish.data(), id: dish.id}));\n  //               setMenus(\n  //                 (prevList) => ([...prevList, {...menu.data(), id: menu.id, dishes: dishesList}])\n  //               )\n  //             }\n  //             getDishes();\n  //           }\n  //         )\n  //         // setRefreshDataCount((prevCount) => prevCount + 1)\n  //     }\n  //     getMenus();\n  //     console.log('App call', refreshDataCount);\n  //     // getMenus().then(\n  //     //   () => {\n  //     //     console.log('In App:', menus);\n  //     //   }\n  //     // ).catch(\n  //     //   (e) => console.log('Error in loading data:', e)\n  //     // );      \n  //   }\n  // , [])\n  // const [docs ,setDocs] = useState([]);\n  //   const unsub = onSnapshot(doc(db, \"cities\", \"SF\"), (doc) => {\n  //     setDocs([...docs, doc.data(), doc.id]);\n  //     console.log(\"Current data: \", doc.data());\n  // });\n\n  return (\n    /*#__PURE__*/\n    // Learn Listen for change\n    // <div>\n    //   <text> Learning is god! </text>\n    // </div>\n    // App run\n    _jsxDEV(\"div\", {\n      style: {\n        backgroundImage: `url(${bg})`,\n        height: '50%',\n        backgroundSize: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(MenuSection, {\n        refresh: refresh,\n        setRefresh: setRefresh // menusList={menus}\n        // count={refreshDataCount}\n        // setCount={setRefreshDataCount}\n\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }, this) // <div>\n    //   {\n    //   menusList.map(\n    //     menu => {\n    //       console.log(menusList);\n    //       console.log('The menu with id', menu.id, ':', menu);\n    //       return (\n    //           <div>\n    //           <text> {menu.id}: {menu.name} </text>\n    //           {\n    //             menu.dishes.map(\n    //               dish => (<h1> {dish.id}: {dish.name}, {dish.price} </h1>)\n    //             )\n    //           }\n    //         </div>\n    //       )\n    //     }\n    //   )}\n    // </div>\n\n  );\n}\n\n_s(App, \"uWnws/JgMpQweOVDY9aQ4NFF9Nc=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/Admin/OneDrive/Máy tính/React JS/POS/src/App.js"],"names":["Carousel","Item","isValidTimestamp","MenuSection","db","useEffect","useState","collection","getDoc","getDocs","doc","onSnapshot","data","bg","motion","App","refresh","setRefresh","backgroundImage","height","backgroundSize"],"mappings":";;;;AACA,OAAO,WAAP;AACA,OAAOA,QAAP,MAAqB,wBAArB,C,CACA;;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,SAASC,gBAAT,QAAiC,gBAAjC;AACA,OAAOC,WAAP,MAAwB,uBAAxB;AACA,SAASC,EAAT,QAAmB,mBAAnB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,OAA7B,EAAsCC,GAAtC,EAA2CC,UAA3C,QAA6D,qBAA7D;AACA,SAAQC,IAAR,QAAmB,cAAnB;AACA,OAAOC,EAAP,MAAe,+BAAf;AACA,SAASC,MAAT,QAAuB,eAAvB;;;AAEA,SAASC,GAAT,GAAe;AAAA;;AAGb,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,CAAD,CAAtC,CAHa,CAKb;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACF;AACA;AACA;AACA;;AAEE;AAAA;AACE;AACA;AACA;AAEA;AAEA;AACA;AAAK,MAAA,KAAK,EAAE;AAACY,QAAAA,eAAe,EAAG,OAAML,EAAG,GAA5B;AAAgCM,QAAAA,MAAM,EAAE,KAAxC;AAA+CC,QAAAA,cAAc,EAAE;AAA/D,OAAZ;AAAA,6BACE,QAAC,WAAD;AACA,QAAA,OAAO,EAAEJ,OADT;AAEA,QAAA,UAAU,EAAEC,UAFZ,CAGA;AACA;AACA;;AALA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YARF,CAoBE;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAxCF;AA0CD;;GAjGQF,G;;KAAAA,G;AAmGT,eAAeA,GAAf","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport Carousel from 'react-elastic-carousel';\n// import styles from './App.css'\nimport Item from './comps/Item';\nimport { isValidTimestamp } from '@firebase/util';\nimport MenuSection from './screens/MenuSection';\nimport { db } from './firebase/config';\nimport { useEffect, useState } from 'react';\nimport { collection, getDoc, getDocs, doc, onSnapshot } from '@firebase/firestore';\nimport {data} from './comps/Data';\nimport bg from './pictures/POS-background.png'\nimport { motion } from 'framer-motion';\n\nfunction App() {\n\n\n  const [refresh, setRefresh] = useState(0);\n\n  // const [menus, setMenus] = useState([]);\n  // const menusRef = collection(db, 'menus');\n\n  // useEffect(\n  //   () => {\n  //     const getMenus = async () => {\n  //       const data = await getDocs(menusRef);\n\n  //         data.docs.forEach(\n  //           menu => {\n\n  //             const getDishes = async () => {\n  //               var dishesRef = collection(db, 'menus' + '/' + menu.id + '/' + 'dishes');\n  //               const dishes = await getDocs(dishesRef);\n\n  //               console.log('Adding at menu id', menu.id);\n  //               const dishesList = dishes.docs.map( dish => ({...dish.data(), id: dish.id}));\n\n  //               setMenus(\n  //                 (prevList) => ([...prevList, {...menu.data(), id: menu.id, dishes: dishesList}])\n  //               )\n  //             }\n\n  //             getDishes();\n  //           }\n  //         )\n\n  //         // setRefreshDataCount((prevCount) => prevCount + 1)\n  //     }\n\n  //     getMenus();\n  //     console.log('App call', refreshDataCount);\n\n  //     // getMenus().then(\n  //     //   () => {\n  //     //     console.log('In App:', menus);\n  //     //   }\n  //     // ).catch(\n  //     //   (e) => console.log('Error in loading data:', e)\n  //     // );      \n  //   }\n  // , [])\n\n\n  // const [docs ,setDocs] = useState([]);\n//   const unsub = onSnapshot(doc(db, \"cities\", \"SF\"), (doc) => {\n//     setDocs([...docs, doc.data(), doc.id]);\n//     console.log(\"Current data: \", doc.data());\n// });\n\n  return (\n    // Learn Listen for change\n    // <div>\n    //   <text> Learning is god! </text>\n\n    // </div>\n\n    // App run\n    <div style={{backgroundImage: `url(${bg})`, height: '50%', backgroundSize: '100%'}}>\n      <MenuSection \n      refresh={refresh}\n      setRefresh={setRefresh}\n      // menusList={menus}\n      // count={refreshDataCount}\n      // setCount={setRefreshDataCount}\n    />\n\n      {/* <img src='https://cdn.theforkmanager.com/static/body-images/the-fork-10-desserts-ideas-to-add-to-your-menu-8.jpg'/> */}\n    </div>\n\n    // <div>\n    //   {\n        \n    //   menusList.map(\n    //     menu => {\n    //       console.log(menusList);\n    //       console.log('The menu with id', menu.id, ':', menu);\n\n    //       return (\n    //           <div>\n    //           <text> {menu.id}: {menu.name} </text>\n    //           {\n    //             menu.dishes.map(\n    //               dish => (<h1> {dish.id}: {dish.name}, {dish.price} </h1>)\n    //             )\n    //           }\n    //         </div>\n    //       )\n    //     }\n    //   )}\n    // </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}